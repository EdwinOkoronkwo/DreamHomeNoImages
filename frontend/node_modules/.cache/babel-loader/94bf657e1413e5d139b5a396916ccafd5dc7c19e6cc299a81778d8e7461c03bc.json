{"ast":null,"code":"var _jsxFileName = \"C:\\\\CentennialCollege\\\\COMP214\\\\Textbook\\\\Group Project\\\\react-query\\\\frontend\\\\src\\\\components\\\\branches\\\\BranchForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport ImagePicker from \"../ImagePicker.jsx\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchSelectableImages } from \"../../util/http.js\";\nimport ErrorBlock from \"../UI/ErrorBlock.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BranchForm({\n  inputData,\n  onSubmit,\n  children\n}) {\n  _s();\n  const [selectedImage, setSelectedImage] = useState(inputData === null || inputData === void 0 ? void 0 : inputData.image);\n  const {\n    data,\n    isPending,\n    isError\n  } = useQuery({\n    queryKey: [\"branches-images\"],\n    queryFn: fetchSelectableImages\n  });\n  function handleSelectImage(image) {\n    setSelectedImage(image);\n  }\n  function handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const data = Object.fromEntries(formData);\n    onSubmit({\n      ...data,\n      image: selectedImage\n    });\n  }\n  console.log(\"Fetched images:\", data); // Debugging log\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"branch-form\",\n    onSubmit: handleSubmit,\n    children: [isPending && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading selectable images..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }, this), isError && /*#__PURE__*/_jsxDEV(ErrorBlock, {\n      title: \"Failed to load selectable images\",\n      message: \"Please try again later\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control\",\n      children: /*#__PURE__*/_jsxDEV(ImagePicker, {\n        images: data || [] // Provide default value if data is undefined\n        ,\n        onSelect: handleSelectImage,\n        selectedImage: selectedImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(BranchForm, \"Vsqb+d98lWU3xvetOsrHcOK9980=\", false, function () {\n  return [useQuery];\n});\n_c = BranchForm;\nvar _c;\n$RefreshReg$(_c, \"BranchForm\");","map":{"version":3,"names":["useState","ImagePicker","useQuery","fetchSelectableImages","ErrorBlock","jsxDEV","_jsxDEV","BranchForm","inputData","onSubmit","children","_s","selectedImage","setSelectedImage","image","data","isPending","isError","queryKey","queryFn","handleSelectImage","handleSubmit","event","preventDefault","formData","FormData","target","Object","fromEntries","console","log","id","fileName","_jsxFileName","lineNumber","columnNumber","title","message","className","images","onSelect","_c","$RefreshReg$"],"sources":["C:/CentennialCollege/COMP214/Textbook/Group Project/react-query/frontend/src/components/branches/BranchForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport ImagePicker from \"../ImagePicker.jsx\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchSelectableImages } from \"../../util/http.js\";\nimport ErrorBlock from \"../UI/ErrorBlock.jsx\";\n\nexport default function BranchForm({ inputData, onSubmit, children }) {\n  const [selectedImage, setSelectedImage] = useState(inputData?.image);\n\n  const { data, isPending, isError } = useQuery({\n    queryKey: [\"branches-images\"],\n    queryFn: fetchSelectableImages,\n  });\n\n  function handleSelectImage(image) {\n    setSelectedImage(image);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    const formData = new FormData(event.target);\n    const data = Object.fromEntries(formData);\n\n    onSubmit({ ...data, image: selectedImage });\n  }\n\n  console.log(\"Fetched images:\", data); // Debugging log\n\n  return (\n    <form id=\"branch-form\" onSubmit={handleSubmit}>\n      {/* Form Fields Here */}\n\n      {isPending && <p>Loading selectable images..</p>}\n      {isError && (\n        <ErrorBlock\n          title=\"Failed to load selectable images\"\n          message=\"Please try again later\"\n        />\n      )}\n\n      {data && (\n        <div className=\"control\">\n          <ImagePicker\n            images={data || []} // Provide default value if data is undefined\n            onSelect={handleSelectImage}\n            selectedImage={selectedImage}\n          />\n        </div>\n      )}\n\n      <div className=\"form-actions\">{children}</div>\n    </form>\n  );\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,qBAAqB,QAAQ,oBAAoB;AAC1D,OAAOC,UAAU,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,UAAUA,CAAC;EAAEC,SAAS;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpE,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAACQ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEM,KAAK,CAAC;EAEpE,MAAM;IAAEC,IAAI;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGf,QAAQ,CAAC;IAC5CgB,QAAQ,EAAE,CAAC,iBAAiB,CAAC;IAC7BC,OAAO,EAAEhB;EACX,CAAC,CAAC;EAEF,SAASiB,iBAAiBA,CAACN,KAAK,EAAE;IAChCD,gBAAgB,CAACC,KAAK,CAAC;EACzB;EAEA,SAASO,YAAYA,CAACC,KAAK,EAAE;IAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC;IAEtB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC;IAC3C,MAAMX,IAAI,GAAGY,MAAM,CAACC,WAAW,CAACJ,QAAQ,CAAC;IAEzCf,QAAQ,CAAC;MAAE,GAAGM,IAAI;MAAED,KAAK,EAAEF;IAAc,CAAC,CAAC;EAC7C;EAEAiB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEf,IAAI,CAAC,CAAC,CAAC;;EAEtC,oBACET,OAAA;IAAMyB,EAAE,EAAC,aAAa;IAACtB,QAAQ,EAAEY,YAAa;IAAAX,QAAA,GAG3CM,SAAS,iBAAIV,OAAA;MAAAI,QAAA,EAAG;IAA2B;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC/ClB,OAAO,iBACNX,OAAA,CAACF,UAAU;MACTgC,KAAK,EAAC,kCAAkC;MACxCC,OAAO,EAAC;IAAwB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CACF,EAEApB,IAAI,iBACHT,OAAA;MAAKgC,SAAS,EAAC,SAAS;MAAA5B,QAAA,eACtBJ,OAAA,CAACL,WAAW;QACVsC,MAAM,EAAExB,IAAI,IAAI,EAAG,CAAC;QAAA;QACpByB,QAAQ,EAAEpB,iBAAkB;QAC5BR,aAAa,EAAEA;MAAc;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eAED7B,OAAA;MAAKgC,SAAS,EAAC,cAAc;MAAA5B,QAAA,EAAEA;IAAQ;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1C,CAAC;AAEX;AAACxB,EAAA,CAhDuBJ,UAAU;EAAA,QAGKL,QAAQ;AAAA;AAAAuC,EAAA,GAHvBlC,UAAU;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}