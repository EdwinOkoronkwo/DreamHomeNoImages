{"ast":null,"code":"var _jsxFileName = \"C:\\\\CentennialCollege\\\\COMP214\\\\DreamHome\\\\frontend\\\\src\\\\components\\\\branches\\\\BranchForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport classes from \"./BranchForm.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BranchForm({\n  method,\n  inputData,\n  children\n}) {\n  _s();\n  var _inputData$branchno, _inputData$street, _inputData$city, _inputData$postcode;\n  const [selectedImage, setSelectedImage] = useState(null);\n  const navigate = useNavigate();\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    if (selectedImage) {\n      formData.append(\"image\", selectedImage);\n    }\n    let url = \"http://localhost:8000/api/branches\";\n    if (method === \"PATCH\") {\n      url += `/${inputData.branchno}`;\n    }\n    try {\n      const response = await fetch(url, {\n        method: method,\n        body: formData\n      });\n      if (response.status === 422) {\n        const data = await response.json();\n        console.error(data.errors);\n        return;\n      }\n      if (!response.ok) {\n        throw new Error(\"Could not save branch\");\n      }\n      navigate(\"/branches\");\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"branch-form\",\n    onSubmit: handleSubmit,\n    className: classes.form,\n    enctype: \"multipart/form-data\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"branchno\",\n        children: \"Branch Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"branchno\",\n        name: \"branchno\",\n        required: true,\n        defaultValue: (_inputData$branchno = inputData === null || inputData === void 0 ? void 0 : inputData.branchno) !== null && _inputData$branchno !== void 0 ? _inputData$branchno : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"street\",\n        children: \"Street\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"street\",\n        name: \"street\",\n        required: true,\n        defaultValue: (_inputData$street = inputData === null || inputData === void 0 ? void 0 : inputData.street) !== null && _inputData$street !== void 0 ? _inputData$street : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"city\",\n        children: \"City\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"city\",\n        name: \"city\",\n        required: true,\n        defaultValue: (_inputData$city = inputData === null || inputData === void 0 ? void 0 : inputData.city) !== null && _inputData$city !== void 0 ? _inputData$city : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"postcode\",\n        children: \"Postcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"postcode\",\n        name: \"postcode\",\n        required: true,\n        defaultValue: (_inputData$postcode = inputData === null || inputData === void 0 ? void 0 : inputData.postcode) !== null && _inputData$postcode !== void 0 ? _inputData$postcode : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: \"Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"image\",\n        name: \"image\",\n        accept: \"image/*\",\n        onChange: event => setSelectedImage(event.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => navigate(\"..\"),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(BranchForm, \"PqmqMDhc6+0A1cV0QLyXE/4msEA=\", false, function () {\n  return [useNavigate];\n});\n_c = BranchForm;\nvar _c;\n$RefreshReg$(_c, \"BranchForm\");","map":{"version":3,"names":["useState","useNavigate","classes","jsxDEV","_jsxDEV","BranchForm","method","inputData","children","_s","_inputData$branchno","_inputData$street","_inputData$city","_inputData$postcode","selectedImage","setSelectedImage","navigate","handleSubmit","event","preventDefault","formData","FormData","target","append","url","branchno","response","fetch","body","status","data","json","console","error","errors","ok","Error","message","id","onSubmit","className","form","enctype","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","name","required","defaultValue","street","city","postcode","accept","onChange","files","actions","onClick","_c","$RefreshReg$"],"sources":["C:/CentennialCollege/COMP214/DreamHome/frontend/src/components/branches/BranchForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport classes from \"./BranchForm.module.css\";\n\nexport default function BranchForm({ method, inputData, children }) {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const navigate = useNavigate();\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    if (selectedImage) {\n      formData.append(\"image\", selectedImage);\n    }\n\n    let url = \"http://localhost:8000/api/branches\";\n    if (method === \"PATCH\") {\n      url += `/${inputData.branchno}`;\n    }\n\n    try {\n      const response = await fetch(url, {\n        method: method,\n        body: formData,\n      });\n\n      if (response.status === 422) {\n        const data = await response.json();\n        console.error(data.errors);\n        return;\n      }\n\n      if (!response.ok) {\n        throw new Error(\"Could not save branch\");\n      }\n\n      navigate(\"/branches\");\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  return (\n    <form\n      id=\"branch-form\"\n      onSubmit={handleSubmit}\n      className={classes.form}\n      enctype=\"multipart/form-data\"\n    >\n      <p className=\"control\">\n        <label htmlFor=\"branchno\">Branch Number</label>\n        <input\n          type=\"text\"\n          id=\"branchno\"\n          name=\"branchno\"\n          required\n          defaultValue={inputData?.branchno ?? \"\"}\n        />\n      </p>\n\n      <p className=\"control\">\n        <label htmlFor=\"street\">Street</label>\n        <input\n          type=\"text\"\n          id=\"street\"\n          name=\"street\"\n          required\n          defaultValue={inputData?.street ?? \"\"}\n        />\n      </p>\n\n      <p className=\"control\">\n        <label htmlFor=\"city\">City</label>\n        <input\n          type=\"text\"\n          id=\"city\"\n          name=\"city\"\n          required\n          defaultValue={inputData?.city ?? \"\"}\n        />\n      </p>\n\n      <p className=\"control\">\n        <label htmlFor=\"postcode\">Postcode</label>\n        <input\n          type=\"text\"\n          id=\"postcode\"\n          name=\"postcode\"\n          required\n          defaultValue={inputData?.postcode ?? \"\"}\n        />\n      </p>\n\n      <p className=\"control\">\n        <label htmlFor=\"image\">Image</label>\n        <input\n          type=\"file\"\n          id=\"image\"\n          name=\"image\"\n          accept=\"image/*\"\n          onChange={(event) => setSelectedImage(event.target.files[0])}\n        />\n      </p>\n\n      <div className=\"form-actions\">{children}</div>\n      <div className={classes.actions}>\n        <button type=\"button\" onClick={() => navigate(\"..\")}>\n          Cancel\n        </button>\n        <button type=\"submit\">Save</button>\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}